# Deployment

This is the deployment service for starting operators and controlling running operators.

## API

### List deployment modes

`GET /api/v1/modes`

#### RESPONSE

```
HTTP/1.1 200 OK
Content-Type: application/json

{
    modes: [
        {
            mode:        ID,
            title:       string,
            description: string,
        
        }
    ] 
}
```

### List running operators

`GET /api/v1/instances`

#### RESPONSE

```
HTTP/1.1 200 OK
Content-Type: application/json

{
    instances: [
        {
            instance:   UUID.
            operator:   UUID,
            state:      ("spawning"|"running"|"stopped"),
            mode:       ID,
        }
    ]
}
```

#### PARAMS

- `state=`
    - `spawning`
    - `running`
    - `stopped` 
- `mode=`
- `operator=`
    
    
#### EXAMPLES

- `GET /api/v1/instances?state=stopped`
- `GET /api/v1/instances?state=running|spawing`
- `GET /api/v1/instances?state=running|spawing&operator=21b88d35-8d82-4a38-b275-23527dffaf70`

### Deploy/start operator

`POST /api/v1/instances`

#### REQUEST

```
{
    slangFile: SlangFile,
    mode:      string
}
```

#### RESPONSE

```
HTTP/1.1 200 OK
Content-Type: application/json

{
    instance:   UUID.
    operator:   UUID,
    state:      ("spawning"|"running"|"stopped"),
    mode:       ID,
}
```

### Get info about running operator

`GET /api/v1/instances/{instance}`

#### RESPONSE

```
HTTP/1.1 200 OK
Content-Type: application/json

{
    instance:   UUID.
    operator:   UUID,
    state:      ("spawning"|"running"|"stopped"),
    mode:       ID,
}
```

### Restart running operator

`PUT /api/v1/instances/{instance}`

#### RESPONSE

```
HTTP/1.1 200 OK
```


### Shutdown running operator

`DELETE /api/v1/instances/{instance}`

#### RESPONSE

```
HTTP/1.1 200 OK
```

